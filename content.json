{"meta":{"title":"Hexo","subtitle":null,"description":null,"author":"John Doe","url":"http://yoursite.com","root":"/codehezi.github.io/"},"pages":[],"posts":[{"title":"springboot 整合 spring data (一对多和多对多【整合hibernate】)","slug":"nine","date":"2019-08-03T13:04:59.194Z","updated":"2019-08-03T13:08:33.766Z","comments":true,"path":"2019/08/03/nine/","link":"","permalink":"http://yoursite.com/2019/08/03/nine/","excerpt":"","text":"pom文件 123456789101112131415161718192021222324252627282930313233343536373839&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.10.RELEASE&lt;/version&gt; &lt;/parent&gt; &lt;groupId&gt;com.hezi&lt;/groupId&gt; &lt;artifactId&gt;17-springboot-spring-data-jpa2&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;dependencies&gt; &lt;!-- springboot启动器 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- spring data jpa启动器 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- junit启动器 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- 连接数据库mysql --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- 数据库连接池 --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;version&gt;1.0.9&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; application.xml全局配置文件 12345678910spring.datasource.driverClassName=com.mysql.jdbc.Driverspring.datasource.url=jdbc:mysql://localhost:3306/student?characterEncoding=UTF-8spring.datasource.username=rootspring.datasource.password=123456spring.datasource.type=com.alibaba.druid.pool.DruidDataSourcespring.jpa.hibernate.ddl-auto=updatespring.jpa.show-sql=true pojo类 1 一对多的（User） 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364package com.hezi.pojo;import java.io.Serializable;import java.util.HashSet;import java.util.Set;import javax.persistence.CascadeType;import javax.persistence.Column;import javax.persistence.Entity;import javax.persistence.GeneratedValue;import javax.persistence.GenerationType;import javax.persistence.Id;import javax.persistence.JoinColumn;import javax.persistence.JoinColumns;import javax.persistence.JoinTable;import javax.persistence.ManyToMany;import javax.persistence.ManyToOne;import javax.persistence.Table;@Entity@Table(name=\"t_users\")public class User implements Serializable&#123; @Id @GeneratedValue(strategy=GenerationType.IDENTITY) @Column(name=\"id\") private Integer id; @Column(name=\"age\") private Integer age; @Column(name=\"name\") private String name; @ManyToOne(cascade=CascadeType.PERSIST) //JoinColumn就是用来维护两者之前的关系 @JoinColumn(name=\"role_id\") private Role role;public Integer getId() &#123; return id;&#125;public void setId(Integer id) &#123; this.id = id;&#125;public Integer getAge() &#123; return age;&#125;public void setAge(Integer age) &#123; this.age = age;&#125;public String getName() &#123; return name;&#125;public void setName(String name) &#123; this.name = name;&#125;public Role getRole() &#123; return role;&#125;public void setRole(Role role) &#123; this.role = role;&#125;@Overridepublic String toString() &#123; return \"User [id=\" + id + \", age=\" + age + \", name=\" + name + \"]\";&#125;&#125; 2 （Role） 1234567891011121314151617181920212223242526272829303132333435363738394041424344package com.hezi.pojo;import java.io.Serializable;import java.util.HashSet;import java.util.Set;import javax.persistence.Column;import javax.persistence.Entity;import javax.persistence.GeneratedValue;import javax.persistence.GenerationType;import javax.persistence.Id;import javax.persistence.OneToMany;import javax.persistence.Table;@Entity@Table(name=\"t_role\")public class Role implements Serializable&#123; @Id @GeneratedValue(strategy=GenerationType.IDENTITY) @Column(name=\"rid\") private Integer rid; @Column(name=\"rname\") private String rname; @OneToMany(mappedBy=\"role\") private Set&lt;User&gt; user=new HashSet&lt;&gt;(); public Set&lt;User&gt; getUser() &#123; return user; &#125; public void setUser(Set&lt;User&gt; user) &#123; this.user = user; &#125; public Integer getRid() &#123; return rid; &#125; public void setRid(Integer rid) &#123; this.rid = rid; &#125; public String getRname() &#123; return rname; &#125; public void setRname(String rname) &#123; this.rname = rname; &#125;&#125; 3 多对多（Roles） 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960package com.hezi.pojo;import java.util.HashSet;import java.util.Set;import javax.persistence.CascadeType;import javax.persistence.Column;import javax.persistence.Entity;import javax.persistence.FetchType;import javax.persistence.GeneratedValue;import javax.persistence.GenerationType;import javax.persistence.Id;import javax.persistence.JoinColumn;import javax.persistence.JoinTable;import javax.persistence.ManyToMany;import javax.persistence.Table;@Entity@Table(name=\"t_roles\")public class Roles &#123; @Id @GeneratedValue(strategy=GenerationType.IDENTITY) @Column(name=\"rid\") private Integer rid; @Column(name=\"rname\") private String rname; @Column(name=\"rstate\") private String rstate; @ManyToMany(cascade=CascadeType.PERSIST,fetch=FetchType.EAGER) //FetchType.EAGER:及时加载 //JoinTable:映射的中间表 //joinColumns:当前表中的主键所关联的中间表的外键 //inverseJoinColumns:另一张表的主键所关联的中间表的外键 @JoinTable(name=\"t_roles_meun\",joinColumns=@JoinColumn(name=\"roles_id\"),inverseJoinColumns=@JoinColumn(name=\"meun_id\")) private Set&lt;Meun&gt; meun=new HashSet&lt;&gt;();public Integer getRid() &#123; return rid;&#125;public void setRid(Integer rid) &#123; this.rid = rid;&#125;public String getRname() &#123; return rname;&#125;public void setRname(String rname) &#123; this.rname = rname;&#125;public String getRstate() &#123; return rstate;&#125;public void setRstate(String rstate) &#123; this.rstate = rstate;&#125;public Set&lt;Meun&gt; getMeun() &#123; return meun;&#125;public void setMeun(Set&lt;Meun&gt; meun) &#123; this.meun = meun;&#125;&#125; 4 （Meun） 1234567891011121314151617181920212223242526272829303132333435363738394041424344package com.hezi.pojo;import java.io.Serializable;import java.util.HashSet;import java.util.Set;import javax.persistence.Column;import javax.persistence.Entity;import javax.persistence.GeneratedValue;import javax.persistence.GenerationType;import javax.persistence.Id;import javax.persistence.ManyToMany;import javax.persistence.Table;@Entity@Table(name=\"t_meun\")public class Meun implements Serializable&#123; @Id @GeneratedValue(strategy=GenerationType.IDENTITY) @Column(name=\"mid\") private Integer mid; @Column(name=\"mname\") private String mname; @ManyToMany(mappedBy=\"meun\") private Set&lt;Roles&gt; roles=new HashSet&lt;&gt;(); public Integer getMid() &#123; return mid; &#125; public void setMid(Integer mid) &#123; this.mid = mid; &#125; public String getMname() &#123; return mname; &#125; public void setMname(String mname) &#123; this.mname = mname; &#125; public Set&lt;Roles&gt; getRoles() &#123; return roles; &#125; public void setRoles(Set&lt;Roles&gt; roles) &#123; this.roles = roles; &#125;&#125; 测试类 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788package com.hezi.test;import java.util.Set;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import com.hezi.Dao.rolesDao;import com.hezi.Dao.userDao;import com.hezi.controller.App;import com.hezi.pojo.Meun;import com.hezi.pojo.Role;import com.hezi.pojo.Roles;import com.hezi.pojo.User;@RunWith(SpringJUnit4ClassRunner.class)@SpringBootTest(classes= &#123;App.class&#125;)public class test &#123; @Autowired private userDao userDao; @Autowired private rolesDao rolesDao; /* * 测试一对多添加 */ @Test public void testAdd() &#123; //创建用户 User u=new User(); u.setAge(21); u.setName(\"王六\"); //创建角色 Role r=new Role(); r.setRname(\"项目经理\"); //关联 r.getUser().add(u); u.setRole(r); //保存 this.userDao.save(u); &#125; /* * 测试一对多添加 */ @Test public void testOnetoManyFind() &#123; User u=this.userDao.findOne(1); System.out.println(u.getName()); Role r=u.getRole(); System.out.println(r.getRname()); &#125; /* * 测试多对多 */ @Test public void testManyToMany() &#123; //创建用户 Roles r=new Roles(); r.setRname(\"王六\"); r.setRstate(\"优秀\"); //创建菜单 Meun m=new Meun(); m.setMname(\"主任务\"); Meun m1=new Meun(); m1.setMname(\"次任务\"); //关联 m.getRoles().add(r); m1.getRoles().add(r); r.getMeun().add(m1); r.getMeun().add(m); //保存 this.rolesDao.save(r); &#125; /* * 测试多对多查询 */ @Test public void testFind() &#123; Roles roles=this.rolesDao.findOne(2); System.out.println(roles.getRname()); Set&lt;Meun&gt; set=roles.getMeun(); for (Meun meun : set) &#123; System.out.println(meun.getMname()); &#125; &#125;&#125; 注意：这里多对多的操作在查询的时候可能会出现session关闭的现象，这个是由于hibernate默认是懒加载的原因，在执行多对多通过一个表查询另一个表的数据时要加上”fetch=FetchType.EAGER”，将延时加载改为及时加载，这样就可以消除session关闭的异常.","categories":[],"tags":[]},{"title":"springboot 整合spring data jpa（接口类编写）","slug":"eight","date":"2019-08-02T13:46:22.603Z","updated":"2019-08-02T13:51:00.728Z","comments":true,"path":"2019/08/02/eight/","link":"","permalink":"http://yoursite.com/2019/08/02/eight/","excerpt":"","text":"PagingAndSortingRepostory接口的编写 pom文件 123456789101112131415161718192021222324252627282930313233343536373839&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.10.RELEASE&lt;/version&gt; &lt;/parent&gt; &lt;groupId&gt;com.hezi&lt;/groupId&gt; &lt;artifactId&gt;17-springboot-spring-data-jpa&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;dependencies&gt; &lt;!-- springboot启动器 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- spring data jpa启动器 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- junit启动器 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- 连接数据库mysql --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- 数据库连接池 --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;version&gt;1.0.9&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; application.xml 1234567891011spring.datasource.driverClassName=com.mysql.jdbc.Driverspring.datasource.url=jdbc:mysql://localhost:3306/student?characterEncoding=UTF-8spring.datasource.username=rootspring.datasource.password=123456spring.datasource.type=com.alibaba.druid.pool.DruidDataSourcespring.jpa.hibernate.ddl-auto=updatespring.jpa.show-sql=true 接口编写 12345678package com.hezi.Dao;import org.springframework.data.repository.PagingAndSortingRepository;import com.hezi.pojo.User;/* * 测试PagingAndSortingRepository接口 */public interface userPagingAndSortingRepository extends PagingAndSortingRepository&lt;User, Integer&gt; &#123;&#125; 此接口继承的CrudRepository的接口，所以具备了它所有的方法，同时他还有自己的两个方法： findAll(sort) findAll(Pageable) 启动类 123456789101112131415package com.hezi.controller;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;import org.springframework.boot.autoconfigure.domain.EntityScan;import org.springframework.context.annotation.ComponentScan;import org.springframework.data.jpa.repository.config.EnableJpaRepositories;@SpringBootApplication@ComponentScan(basePackages= &#123;\"com.hezi.controller\"&#125;)@EnableJpaRepositories(basePackages= &#123;\"com.hezi.Dao\"&#125;)@EntityScan(basePackages= &#123;\"com.hezi.pojo\"&#125;)public class App &#123; public static void main(String[] args) &#123; SpringApplication.run(App.class, args);&#125;&#125; 实体类 1234567891011121314151617181920212223242526272829303132333435363738394041package com.hezi.pojo;import javax.persistence.Column;import javax.persistence.Entity;import javax.persistence.GeneratedValue;import javax.persistence.GenerationType;import javax.persistence.Id;import javax.persistence.Table;@Entity@Table(name=\"t_user\")public class User &#123; @Id @GeneratedValue(strategy=GenerationType.IDENTITY) @Column(name=\"id\") private Integer id; @Column(name=\"age\") private Integer age; @Column(name=\"name\") private String name;public Integer getId() &#123; return id;&#125;public void setId(Integer id) &#123; this.id = id;&#125;public Integer getAge() &#123; return age;&#125;public void setAge(Integer age) &#123; this.age = age;&#125;public String getName() &#123; return name;&#125;public void setName(String name) &#123; this.name = name;&#125;@Overridepublic String toString() &#123; return \"User [id=\" + id + \", age=\" + age + \", name=\" + name + \"]\";&#125;&#125; 测试类 123456789101112131415161718192021222324@Test public void userPagingAndSortingRepositoryTest() &#123; //Order定义排序规则 //前面的是排序规则，后面是针对那一个字段进行排序 Order order=new Order(Direction.DESC,\"id\"); //sort封装了排序规则 Sort sort=new Sort(order); List&lt;User&gt; list=(List&lt;User&gt;)this.userPagingAndSortingRepository.findAll(sort); for (User user : list) &#123; System.out.println(user); &#125; &#125; @Test public void userPagingAndSortingTest() &#123; Pageable pageable=new PageRequest(0, 1); Page&lt;User&gt; page=this.userPagingAndSortingRepository.findAll(pageable); List&lt;User&gt; list=page.getContent(); System.out.println(page.getTotalPages()); System.out.println(page.getTotalElements()); System.out.println(page.getSize());//当前页大小 for (User user : list) &#123; System.out.println(user); &#125; &#125; JpaSpecificationExecutor接口的编写 接口编写 1234567891011package com.hezi.Dao;import org.springframework.data.jpa.repository.JpaRepository;import org.springframework.data.jpa.repository.JpaSpecificationExecutor;import com.hezi.pojo.User;/** * 测试JpaSpecificationExecutor这个接口 * @author hezi * */public interface userRepositoryJpaSipacificatonExectuor extends JpaRepository&lt;User, Integer&gt;, JpaSpecificationExecutor&lt;User&gt; &#123;&#125; 注意：这个接口是一个单独的接口并没有继承之前的接口，一般都是与JpaRepository接口一起使用 实体类，启动类，pom文件,application.xml都使用上面的文件 测试类 12345678910111213141516171819202122232425262728@Test public void testjpaSpecificationExectour() &#123; Specification&lt;User&gt; spec=new Specification&lt;User&gt;() &#123; @Override public Predicate toPredicate(Root&lt;User&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) &#123; Predicate pre= cb.equal(root.get(\"name\") ,\"李四\"); Predicate pre1= cb.equal(root.get(\"name\") ,\"张三\"); return cb.or(pre,pre1); &#125;&#125;; List&lt;User&gt; list=this.userRepositoryJpaSipacificatonExectuor.findAll(spec); for (User user : list) &#123; System.out.println(user);&#125; &#125; @Test public void testjpaSpecificationExectour1() &#123; Specification&lt;User&gt; spec=new Specification&lt;User&gt;() &#123; @Override public Predicate toPredicate(Root&lt;User&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) &#123; return cb.or(cb.equal(root.get(\"name\") ,\"李四\"),cb.equal(root.get(\"age\") ,25)); &#125;&#125;; List&lt;User&gt; list=this.userRepositoryJpaSipacificatonExectuor.findAll(spec); for (User user : list) &#123; System.out.println(user);&#125; &#125; 通过重写predicate方法来实现查询","categories":[],"tags":[]},{"title":"springboot整合freemarker","slug":"第七个","date":"2019-08-01T10:09:49.083Z","updated":"2019-08-01T10:14:15.392Z","comments":true,"path":"2019/08/01/第七个/","link":"","permalink":"http://yoursite.com/2019/08/01/第七个/","excerpt":"","text":"pom文件12345678910111213141516171819202122232425262728293031323334&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.10.RELEASE&lt;/version&gt; &lt;/parent&gt; &lt;groupId&gt;com.hezi&lt;/groupId&gt; &lt;artifactId&gt;01-springboot-freemark&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;!-- springboot启动器 --&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- freemarker启动器 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- jstl 坐标--&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;jstl&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- jasper 坐标 scop标签的provided表示编译需要而发布不要--&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt; &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; application.properties全局配置文件1234spring.http.multipart.maxFileSize=200MBspring.http.multipart.maxRequestSize=200MBspring.mvc.view.prefix=/WEB-INF/jsp/spring.mvc.view.suffix=.jsp 文件说明： maxFileSize：说明上传文件的大小200MB maxRequestSize:说明上床文件的总大小200MB prefix：视图的前缀（这个前缀就说明需要在webroot目录的WEB-INF下建一个jsp的文件夹） suffix：视图后缀 实体类1234567891011121314151617package com.hezi.pojo;public class user &#123; private String name; private int age;public String getName() &#123; return name;&#125;public void setName(String name) &#123; this.name = name;&#125;public int getAge() &#123; return age;&#125;public void setAge(int age) &#123; this.age = age;&#125;&#125; controller12345678910111213141516171819202122232425262728293031323334353637383940package com.hezi.controller;import java.io.File;import java.util.ArrayList;import java.util.HashMap;import java.util.List;import java.util.Map;import javax.servlet.http.HttpServletRequest;import org.springframework.stereotype.Controller;import org.springframework.ui.Model;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.ResponseBody;import org.springframework.web.multipart.MultipartFile;import com.hezi.pojo.user;@Controllerpublic class HelloWorld &#123; @RequestMapping(\"/fileupload\") @ResponseBody public Map&lt;String,Object&gt; get(MultipartFile file,HttpServletRequest req)throws Exception&#123; System.out.println(req.getServletContext().getRealPath(\"imge\")); file.transferTo(new File(req.getServletContext().getRealPath(\"imge\"),file.getOriginalFilename())); Map&lt;String,Object&gt; map=new HashMap&lt;String,Object&gt;(); map.put(\"msg\", \"ok\"); return map; &#125; @RequestMapping(\"/showuser\") public String show(Model m)&#123; List&lt;user&gt; list=new ArrayList&lt;user&gt;(); user u=new user(); u.setAge(18); u.setName(\"张三\"); user u1=new user(); u1.setAge(20); u1.setName(\"李四\"); list.add(u); list.add(u1); m.addAttribute(\"list\", list); return \"hello\"; &#125; &#125; 启动类1234567891011package com.hezi.controller;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;@SpringBootApplicationpublic class App &#123; public static void main(String[] args) &#123; SpringApplication.run(App.class, args);&#125;&#125; 视图（freemarker）1234567891011121314151617181920&lt;html&gt; &lt;head&gt; &lt;title&gt;freemarker&lt;/title&gt; &lt;meta charset=\"utf-8\"/&gt; &lt;/head&gt; &lt;body&gt; &lt;table border=\"1px\" align=\"center\" width=\"50%\"&gt; &lt;tr&gt; &lt;th&gt;姓名&lt;/th&gt; &lt;th&gt;年龄&lt;/th&gt; &lt;/tr&gt; &lt;#list list as user&gt; &lt;tr&gt; &lt;td&gt;$&#123;user.name&#125;&lt;/td&gt; &lt;td&gt;$&#123;user.age&#125;&lt;/td&gt; &lt;/tr&gt; &lt;/#list&gt; &lt;/table&gt; &lt;/body&gt;&lt;/html&gt; 注意：freemarker是一种ftl文件格式","categories":[],"tags":[]},{"title":"springboot整合spring data jpa(续)","slug":"six-blog","date":"2019-07-31T13:41:29.107Z","updated":"2019-07-31T13:42:55.501Z","comments":true,"path":"2019/07/31/six-blog/","link":"","permalink":"http://yoursite.com/2019/07/31/six-blog/","excerpt":"","text":"Repository接口的注解编写方式 接口编写 1234567891011121314package com.hezi.Dao;import java.util.List;import org.springframework.data.jpa.repository.Query;import org.springframework.data.repository.Repository;import com.hezi.pojo.User;/* * 测试query标签这个方法 */ public interface userRepositoryQuery extends Repository&lt;User,Integer&gt;&#123; @Query(\"from User\")//hql的写法 List&lt;User&gt; findAllQuery(); @Query(value=\"select * from t_user where id=?\",nativeQuery=true)//nativeQuery设置成true是关闭hql语句，默认是以hql语句查找 User findOne(Integer id);&#125; 实体类 1234567891011121314151617181920212223242526272829303132333435363738394041package com.hezi.pojo;import javax.persistence.Column;import javax.persistence.Entity;import javax.persistence.GeneratedValue;import javax.persistence.GenerationType;import javax.persistence.Id;import javax.persistence.Table;@Entity@Table(name=\"t_user\")public class User &#123; @Id @GeneratedValue(strategy=GenerationType.IDENTITY) @Column(name=\"id\") private Integer id; @Column(name=\"age\") private Integer age; @Column(name=\"name\") private String name;public Integer getId() &#123; return id;&#125;public void setId(Integer id) &#123; this.id = id;&#125;public Integer getAge() &#123; return age;&#125;public void setAge(Integer age) &#123; this.age = age;&#125;public String getName() &#123; return name;&#125;public void setName(String name) &#123; this.name = name;&#125;@Overridepublic String toString() &#123; return \"User [id=\" + id + \", age=\" + age + \", name=\" + name + \"]\";&#125;&#125; 启动类 123456789101112131415package com.hezi.controller;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;import org.springframework.boot.autoconfigure.domain.EntityScan;import org.springframework.context.annotation.ComponentScan;import org.springframework.data.jpa.repository.config.EnableJpaRepositories;@SpringBootApplication@ComponentScan(basePackages= &#123;\"com.hezi.controller\"&#125;)@EnableJpaRepositories(basePackages= &#123;\"com.hezi.Dao\"&#125;)@EntityScan(basePackages= &#123;\"com.hezi.pojo\"&#125;)public class App &#123; public static void main(String[] args) &#123; SpringApplication.run(App.class, args);&#125;&#125; 测试类 123456789101112131415/* * 测试Repository的query的注解编写操作测试 */ @Test public void testQueryHql() &#123; List&lt;User&gt; list=this.userRepositoryQuery.findAllQuery(); for (User user : list) &#123; System.out.println(user); &#125; &#125; @Test public void testQuerySql() &#123; User user=this.userRepositoryQuery.findOne(7); System.out.println(user); &#125; CrudReository接口的编写（这个接口继承了Repository的接口） 这接口已经封装了一些方法： 接口编写12345678910package com.hezi.Dao;import org.springframework.data.repository.CrudRepository;import com.hezi.pojo.User;/** * 测试CrudRepository接口 * @author hezi * */public interface userCrudRepository extends CrudRepository&lt;User, Integer&gt; &#123;&#125; 测试类1234567891011121314151617181920212223@Test public void save() &#123; User u=new User(); u.setAge(25); u.setName(\"小红\"); this.userdao.save(u); &#125; @Test public void findone() &#123; User u=this.userdao.findOne(1); System.out.println(u); &#125; @Test public void findall() &#123; List&lt;User&gt; list=this.userdao.findAll(); for (User user : list) &#123; System.out.println(user); &#125;&#125; @Test public void deleteall() &#123; this.userdao.deleteAll(); &#125;","categories":[],"tags":[]},{"title":"springboot整合spring-data-jpa","slug":"five-blog","date":"2019-07-31T11:41:23.951Z","updated":"2019-07-31T13:46:29.252Z","comments":true,"path":"2019/07/31/five-blog/","link":"","permalink":"http://yoursite.com/2019/07/31/five-blog/","excerpt":"","text":"pom文件123456789101112131415161718192021222324252627282930313233343536373839&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.10.RELEASE&lt;/version&gt; &lt;/parent&gt; &lt;groupId&gt;com.hezi&lt;/groupId&gt; &lt;artifactId&gt;17-springboot-spring-data-jpa&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;dependencies&gt; &lt;!-- springboot启动器 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- spring data jpa启动器 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- junit启动器 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- 连接数据库mysql --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- 数据库连接池 --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;version&gt;1.0.9&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; application.properties1234567891011spring.datasource.driverClassName=com.mysql.jdbc.Driverspring.datasource.url=jdbc:mysql://localhost:3306/student?characterEncoding=UTF-8spring.datasource.username=rootspring.datasource.password=123456spring.datasource.type=com.alibaba.druid.pool.DruidDataSource//这个配置是让hibernate的ddl语句完成自动更新spring.jpa.hibernate.ddl-auto=update//这个配置就是为了展示sql语句spring.jpa.show-sql=true 启动器类1234567891011121314151617package com.hezi.controller;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;import org.springframework.boot.autoconfigure.domain.EntityScan;import org.springframework.context.annotation.ComponentScan;import org.springframework.data.jpa.repository.config.EnableJpaRepositories;@SpringBootApplication@ComponentScan(basePackages= &#123;\"com.hezi.controller\"&#125;)@EnableJpaRepositories(basePackages= &#123;\"com.hezi.Dao\"&#125;)@EntityScan(basePackages= &#123;\"com.hezi.pojo\"&#125;)public class App &#123; public static void main(String[] args) &#123; SpringApplication.run(App.class, args);&#125;&#125; 注意： @ComponentScan(basePackages= {“com.hezi.controller”})这个是对@controller进行扫描 @EnableJpaRepositories(basePackages= {“com.hezi.Dao”})这是对@Repository进行扫描 @EntityScan(basePackages= {“com.hezi.pojo”})这是对@@Entity进行扫描 如果对jpa的接口进行继承操作报以下错误： 这个错误首先想到的就是包没有被扫描到，拿不到bean对象，这个时候就要注意你的这三个注解是否有写或者有没有写对。实体类1234567891011121314151617181920212223242526272829303132333435363738394041package com.hezi.pojo;import javax.persistence.Column;import javax.persistence.Entity;import javax.persistence.GeneratedValue;import javax.persistence.GenerationType;import javax.persistence.Id;import javax.persistence.Table;@Entity@Table(name=\"t_user\")public class User &#123; @Id @GeneratedValue(strategy=GenerationType.IDENTITY) @Column(name=\"id\") private Integer id; @Column(name=\"age\") private Integer age; @Column(name=\"name\") private String name;public Integer getId() &#123; return id;&#125;public void setId(Integer id) &#123; this.id = id;&#125;public Integer getAge() &#123; return age;&#125;public void setAge(Integer age) &#123; this.age = age;&#125;public String getName() &#123; return name;&#125;public void setName(String name) &#123; this.name = name;&#125;@Overridepublic String toString() &#123; return \"User [id=\" + id + \", age=\" + age + \", name=\" + name + \"]\";&#125;&#125; 核心接口类： Repository接口 CurdRepository接口 PagingAndSotingRepository接口 JpaRepository接口 JpaSpecificationExectuor接口 123456789101112package com.hezi.Dao;import java.util.List;import org.springframework.data.repository.Repository;import com.hezi.pojo.User;public interface userRepositiry extends Repository&lt;User,Integer&gt; &#123; //根据名字进行查找（注意命名规范：前缀：findBy+字段名（其实也算是条件）） List&lt;User&gt; findByName(String name); //根据id进行查找 List&lt;User&gt; findById(int id); //根据年龄查找 List&lt;User&gt; findByAge(int age);&#125; 这是对第一个接口的编写，repository这个接口提供两种编写方式： 通过名字命名的方式来写（findBy（可以说是前缀）+属性名（首字母大写）+查询条件） 另一种方式下个博客再续测试类123456789101112131415161718192021222324252627282930313233343536373839404142package com.hezi.test;import java.util.List;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import com.hezi.Dao.userDao;import com.hezi.Dao.userRepositiry;import com.hezi.controller.App;import com.hezi.pojo.User;@RunWith(SpringJUnit4ClassRunner.class)@SpringBootTest(classes= &#123;App.class&#125;)public class test &#123; @Autowired private userRepositiry userRepositiry; @Test//测试的是repository的接口 public void findRepositoryByName() &#123; List&lt;User&gt; u=this.userRepositiry.findByName(\"张三\"); for (User user : u) &#123; System.out.println(user); &#125; &#125; @Test public void findRepositoryById() &#123; List&lt;User&gt; u=this.userRepositiry.findById(3); for (User user : u) &#123; System.out.println(user); &#125; &#125; @Test public void findRepositoryByAge() &#123; List&lt;User&gt; u=this.userRepositiry.findByAge(20); for (User user : u) &#123; System.out.println(user); &#125; &#125;&#125;","categories":[],"tags":[]},{"title":"springboot整合hibernate-validate","slug":"four-blog","date":"2019-07-29T12:15:55.207Z","updated":"2019-07-29T12:16:56.758Z","comments":true,"path":"2019/07/29/four-blog/","link":"","permalink":"http://yoursite.com/2019/07/29/four-blog/","excerpt":"","text":"controller包(启动器也放在此包中）controller类123456789101112131415161718192021222324252627282930package com.hezi.controller;import java.util.ArrayList;import java.util.List;import javax.validation.Valid;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.ui.Model;import org.springframework.validation.BindingResult;import org.springframework.web.bind.annotation.PathVariable;import org.springframework.web.bind.annotation.RequestMapping;import com.hezi.pojo.user;@Controllerpublic class addUser &#123; @RequestMapping(\"/&#123;page&#125;\") public String show(@PathVariable String page,user user) &#123; return page; &#125; /* * @valid 对user对象开启验证 * @BindingResult 封装了验证的结果 */ @RequestMapping(\"/save\") public String save(@Valid user user,BindingResult result) &#123; System.out.println(user); if(result.hasErrors()) &#123; return \"add\"; &#125; return \"index\"; &#125;&#125; app类123456789101112package com.hezi.controller;import org.mybatis.spring.annotation.MapperScan;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;import org.springframework.context.annotation.ComponentScan;@MapperScan(\"com.hezi.mapper\") //扫描mybatis接口@ComponentScan(basePackages= &#123;\"com.hezi.pojo\",\"com.hezi.controller\"&#125;)public class App &#123; public static void main(String[] args) &#123; SpringApplication.run(App.class, args);&#125;&#125; pojo实体类123456789101112131415161718192021222324252627282930313233343536373839404142434445package com.hezi.pojo;import javax.validation.constraints.Max;import javax.validation.constraints.Min;import org.hibernate.validator.constraints.Email;import org.hibernate.validator.constraints.NotBlank;import org.hibernate.validator.constraints.NotEmpty;public class user &#123; @Min(value=18) //判断数值最大值 @Max(value=28) //判断数值最小值 private int uage; @NotBlank //判断不能为空（去首尾空格） private String uname; @NotEmpty //判断不能为空（不去首尾空格，空格也算） private String upass; @Email //判断email格式是否正确 private String email;public int getUage() &#123; return uage;&#125;public void setUage(int uage) &#123; this.uage = uage;&#125;public String getEmail() &#123; return email;&#125;public void setEmail(String email) &#123; this.email = email;&#125;public String getUname() &#123; return uname;&#125;public void setUname(String uname) &#123; this.uname = uname;&#125;public String getUpass() &#123; return upass;&#125;public void setUpass(String upass) &#123; this.upass = upass;&#125;@Overridepublic String toString() &#123; return \"user [uage=\" + uage + \", uname=\" + uname + \", upass=\" + upass + \", email=\" + email + \"]\";&#125;&#125; thymeleaf页面展示12345678910111213141516&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;&lt;head&gt;&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt;&lt;title&gt;thymeleaf&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;form th:action=\"@&#123;/save&#125;\" method=\"post\"&gt; 姓名：&lt;input type=\"text\" name=\"uname\"/&gt;&lt;font color=\"red\" th:errors=\"$&#123;user.uname&#125;\"&gt;&lt;/font&gt;&lt;br/&gt; 密码：&lt;input type=\"text\" name=\"upass\"/&gt;&lt;font color=\"red\" th:errors=\"$&#123;user.upass&#125;\"&gt;&lt;/font&gt;&lt;br /&gt; 年龄 ：&lt;input type=\"text\" name=\"uage\"/&gt;&lt;font color=\"red\" th:errors=\"$&#123;user.uage&#125;\"&gt;&lt;/font&gt;&lt;br/&gt; 邮箱 ：&lt;input type=\"text\" name=\"email\"/&gt;&lt;font color=\"red\" th:errors=\"$&#123;user.email&#125;\"&gt;&lt;/font&gt;&lt;br/&gt; &lt;input type=\"submit\" value=\"提交\"/&gt; &lt;/form&gt;&lt;/body&gt;&lt;/html&gt;","categories":[],"tags":[]},{"title":"springboot整合spring data redis","slug":"three-blog","date":"2019-07-29T08:58:41.689Z","updated":"2019-07-29T09:03:22.520Z","comments":true,"path":"2019/07/29/three-blog/","link":"","permalink":"http://yoursite.com/2019/07/29/three-blog/","excerpt":"","text":"Controller部分控制器类12345678910package com.hezi.controller;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;public class addUser &#123; @RequestMapping(\"/add\") public String show() &#123; System.out.println(\"hi....ggg..qq\"); return \"list\"; &#125;&#125; App类，这里就放在控制器的包下1234567891011package com.hezi.controller;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;import org.springframework.context.annotation.ComponentScan;@SpringBootApplication@ComponentScan(basePackages= &#123;\"com.hezi.RedisConfiguration\",\"com.hezi.controller\",\"com.hezi.pojo\"&#125;)public class App &#123; public static void main(String[] args) &#123; SpringApplication.run(App.class, args);&#125;&#125; 全局异常处理类（这是解决异常方式的其中一种方法）12345678910111213141516171819202122232425package com.hezi.controller;import java.util.Properties;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import org.springframework.context.annotation.Configuration;import org.springframework.web.servlet.HandlerExceptionResolver;import org.springframework.web.servlet.ModelAndView;@Configurationpublic class GlobleException implements HandlerExceptionResolver&#123; @Override public ModelAndView resolveException(HttpServletRequest arg0, HttpServletResponse arg1, Object arg2, Exception e) &#123; ModelAndView mv=new ModelAndView(); if(e instanceof ArithmeticException) &#123; mv.setViewName(\"error1\"); &#125; if(e instanceof NullPointerException) &#123; mv.setViewName(\"error2\"); &#125; mv.addObject(\"mv\",e.toString()); return mv; &#125;&#125; pojo类1234567891011121314151617181920212223242526272829303132package com.hezi.pojo;import java.io.Serializable;/* * 实现反序列化 */public class User implements Serializable&#123; private String name; private int age; private int id;public String getName() &#123; return name;&#125;public void setName(String name) &#123; this.name = name;&#125;public int getAge() &#123; return age;&#125;public void setAge(int age) &#123; this.age = age;&#125;public int getId() &#123; return id;&#125;public void setId(int id) &#123; this.id = id;&#125;@Overridepublic String toString() &#123; return \"User [name=\" + name + \", age=\" + age + \", id=\" + id + \"]\";&#125;&#125; 全局配置文件类（这里没有使用application.properties配置，设置连接池和redis链接最好使用application.properties配置）12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455package com.hezi.RedisConfiguration;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.data.redis.connection.jedis.JedisConnectionFactory;import org.springframework.data.redis.core.RedisTemplate;import org.springframework.data.redis.serializer.StringRedisSerializer;import redis.clients.jedis.JedisPoolConfig;@Configurationpublic class redisConfiguration &#123; /** * 设置连接池配置 * @return */ @Bean public JedisPoolConfig jedisPoolConfig() &#123; JedisPoolConfig config=new JedisPoolConfig(); //最大空限量 config.setMaxIdle(10); //最小空限量 config.setMinIdle(5); //最大连接数 config.setMaxTotal(20); return config; &#125; /** * 链接redis的配置 * @param config * @return */ @Bean public JedisConnectionFactory jedisConnectionFactory(JedisPoolConfig config) &#123; JedisConnectionFactory factory=new JedisConnectionFactory(); //关联连接池的配置对象 factory.setPoolConfig(config); //链接主机ip factory.setHostName(\"127.0.0.1\"); //链接主机端口 factory.setPort(6379); return factory; &#125; /* * redis模板类 */ @Bean public RedisTemplate&lt;String, Object&gt; redisTemplate(JedisConnectionFactory factory)&#123; RedisTemplate&lt;String, Object&gt; template=new RedisTemplate&lt;&gt;(); //设置与与redis配置的关联 template.setConnectionFactory(factory); //设置key值得序列化 template.setKeySerializer(new StringRedisSerializer()); //设置value值得序列化 template.setValueSerializer(new StringRedisSerializer()); return template; &#125;&#125; 测试类（这里以几个序列化类进行举例）123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384package com.hezi.test;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.data.redis.core.RedisTemplate;import org.springframework.data.redis.serializer.Jackson2JsonRedisSerializer;import org.springframework.data.redis.serializer.JdkSerializationRedisSerializer;import org.springframework.http.converter.json.Jackson2ObjectMapperBuilder;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import com.hezi.controller.App;import com.hezi.pojo.User;@RunWith(SpringJUnit4ClassRunner.class)@SpringBootTest(classes= &#123;App.class&#125;)public class test &#123; @Autowired private RedisTemplate&lt;String, Object&gt; redisTemplate; /* * 测试添加数据 */ @Test public void addTest() &#123; this.redisTemplate.opsForValue().set(\"key\", \"value\"); &#125; /* * 测试获取数据 */ @Test public void getTest() &#123; String key=(String)this.redisTemplate.opsForValue().get(\"key\"); &#125; /* * 测试添加一个对象(这种方法添加的对象会先转化成字节流，然后以字符串形式存入，这样在数据库中会以看不懂的字节码显示) */ @Test public void addUserTest() &#123; User user=new User(); user.setAge(12); user.setId(1); user.setName(\"张三\"); /* * 这里需要给一个转换的模板，将这个类进行序列化，然后存入redis */ this.redisTemplate.setValueSerializer(new JdkSerializationRedisSerializer()); this.redisTemplate.opsForValue().set(\"user\", user); &#125; /* * 测试获取一个对象 */ @Test public void getUserTest() &#123; /* * 这里需要给一个转换的模板，将这个类进行反序列化，然后取出redis里存的key对应的值 */ this.redisTemplate.setValueSerializer(new JdkSerializationRedisSerializer()); this.redisTemplate.opsForValue().get(\"user\"); &#125; /* * 测试添加一个对象（以jackson的方式，这个就以字符串的形式讲对象存入redis） */ @Test public void addUserTestJackson() &#123; User user=new User(); user.setAge(12); user.setId(1); user.setName(\"张三\"); /* * 这里需要给一个转换的模板，将这个类转换成字符串存入redis */ this.redisTemplate.setValueSerializer(new Jackson2JsonRedisSerializer&lt;&gt;(User.class)); this.redisTemplate.opsForValue().set(\"user\", user); &#125; /* * 测试获取一个对象 */ @Test public void getUserTestJackson() &#123; /* * 这里需要给一个转换的模板，将这个类取出来 */ this.redisTemplate.setValueSerializer(new Jackson2JsonRedisSerializer&lt;&gt;(User.class)); this.redisTemplate.opsForValue().get(\"user\"); &#125;&#125; pom文件123456789101112131415161718192021222324252627282930313233343536373839&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.10.RELEASE&lt;/version&gt; &lt;/parent&gt; &lt;groupId&gt;com.hezi&lt;/groupId&gt; &lt;artifactId&gt;12-springboot-junit&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;dependencies&gt; &lt;!-- springboot启动器 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- thymeleaf启动器 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- devtools坐标 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt; &lt;/dependency&gt; &lt;!-- spring data redis启动器 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- junit启动器 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; 以上是对springboot整合spring data redis的一个小的总结","categories":[],"tags":[]},{"title":"一些常见问题","slug":"two-blog","date":"2019-07-05T11:46:03.820Z","updated":"2019-07-05T12:09:26.827Z","comments":true,"path":"2019/07/05/two-blog/","link":"","permalink":"http://yoursite.com/2019/07/05/two-blog/","excerpt":"","text":"org.apache.catalina.LifecycleException问题解决首先查看一下jar包是否都有，如果jar包没问题，看一下xml配置是否有问题，如果都是正常没有错误的情况下，将项目从Tomcat上移除，然后将Tomcat进行clean一下，再次启动项目就可以正常运行了。springMVC中的model模型model模型中存放的数据就只能在跳转过去的页面使用，类似于request的请求，如果不传递下去也只能在请求页面使用，model模型也是类似特性，所以要想在一次会话中有要使用的数据的话，还是需要引入HttpSession，这是在使用springmvc要注意的点。 在modelMap在Myeclipse中可以使用，在eclipse使用会出现一些问题，在eclipse中一般就是用model模型。","categories":[],"tags":[]},{"title":"关于springmvc和mybatis的配置文件","slug":"first-blog","date":"2019-07-04T14:13:40.724Z","updated":"2019-07-29T10:22:57.469Z","comments":true,"path":"2019/07/04/first-blog/","link":"","permalink":"http://yoursite.com/2019/07/04/first-blog/","excerpt":"","text":"web.xml中的配置： &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt; &lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\" id=\"WebApp_ID\" version=\"3.0\"&gt; &lt;filter&gt; &lt;filter-name&gt;characterEncodingFilter&amp;lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&amp;lt;/filter-class&gt; &lt;init-param&gt; &lt;param-name&gt;encoding&amp;lt;/param-name&gt; &lt;param-value&gt;utf-8&amp;lt;/param-value&gt; &lt;/init-param&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;characterEncodingFilter&amp;lt;/filter-name&gt; &lt;url-pattern&gt;*.do&amp;lt;/url-pattern&gt; &lt;/filter-mapping&gt; &lt;servlet&gt; &lt;servlet-name&gt;demo&amp;lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&amp;lt;/servlet-class&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;demo&amp;lt;/servlet-name&gt; &lt;url-pattern&gt;*.do&amp;lt;/url-pattern&gt; &lt;/servlet-mapping&gt; &lt;/web-app&gt; springmvc-servlet.xml文件配置&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt; &lt;beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:p=\"http://www.springframework.org/schema/p\" xmlns:context=\"http://www.springframework.org/schema/context\" xsi:schemaLocation=\" http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"&gt; &lt;context:component-scan base-package=\"com.hezi.Controller\"/&gt; &lt;/beans&gt; mybatis.xml配置文件&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt; &lt;!DOCTYPE configuration PUBLIC \"-//mybatis.org//DTD Config 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-config.dtd\"&gt; &lt;configuration&gt; &lt;environments default=\"default\"&gt; &lt;environment id=\"default\"&gt; &lt;transactionManager type=\"JDBC\"/&gt; &lt;dataSource type=\"POOLED\"&gt; &lt;property name=\"driver\" value=\"com.mysql.jdbc.Driver\"/&gt; &lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/student?characterEncoding=utf-8\"/&gt; &lt;property name=\"username\" value=\"root\"/&gt; &lt;property name=\"password\" value=\"123456\"/&gt; &lt;/dataSource&gt; &lt;/environment&gt; &lt;/environments&gt; &lt;mappers&gt; &lt;mapper resource=\"com/hezi/mapper/mapper.xml\"/&gt; &lt;/mappers&gt; &lt;/configuration&gt; com.hezi.mapper下的映射文件mapper.xml&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt; &lt;!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"&gt; &lt;mapper namespace=\"com.hezi.mapper\"&gt; &lt;select id=\"sel\" resultType=\"com.hezi.pojo.User\"&gt; select * from user &lt;/select&gt; &lt;select id=\"sel1\" resultType=\"com.hezi.pojo.U\" parameterType=\"com.hezi.pojo.U\"&gt; select uname,upass from u where uname=#{uname} and upass=#{upass} &lt;/select&gt; &lt;insert id=\"ins\" parameterType=\"com.hezi.pojo.U\"&gt; insert into u values(default,#{uname},#{upass}) &lt;/insert&gt; &lt;/mapper&gt; 需要的jar包","categories":[],"tags":[]},{"title":"博客搭建","slug":"个人博客搭建日志","date":"2019-07-01T02:17:28.604Z","updated":"2019-08-01T06:14:11.258Z","comments":true,"path":"2019/07/01/个人博客搭建日志/","link":"","permalink":"http://yoursite.com/2019/07/01/个人博客搭建日志/","excerpt":"","text":"第一步：注册GitHub账号。 第二步：下载Git和node js。 第三部：打开git bash here命令窗口，下载hexo 命令如下：1npm install -g hexo-cli 第四步：进入任意盘创下的hexo/blog文件下，进入git bash here输入命令初始化hexo，命令： 1hexo init 第五步：安装一些hexo的依赖包，命令如下： 1hexo install 第六步：安装一下hexo依赖的插件，命令如下： 1npm install hexo-deployer-git --save 第七步：在GitHub上创建新的仓库，并且写上Repository name：username.github.io(命名规范)；然后复制仓库地址，在blog文件夹下的-config.yml中找到 1234# Deployment在deploy下配置： type：（前面注意有个空格）git repo：（前面注意有个空格）https://github.com/codehezi/codehezi.github.io.git---这是哪个仓库HTTP地址 branch：（前面注意有个空格）master 第八步：将hexo部署到github上去，命令如下： 1hexo g -d 第九步：访问hexo，命令如下： 1codehezi.github.io","categories":[],"tags":[]}]}